{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a4ab6d602e9a5189184a","webpack:///./src/ringbuffer.js"],"names":[],"mappings":"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","file":"ringbuffer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RingBuffer\"] = factory();\n\telse\n\t\troot[\"RingBuffer\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a4ab6d602e9a5189184a\n **/","'use strict';\n\nclass RingBuffer {\n  constructor(capacity) {\n    if (arguments.length < 1) {\n      throw new Error('RingBuffer must be initiated with a capacity');\n    }\n\n    this.length = this.head = 0;\n    this.tail = -1;\n\n    // Allow initiating like new RingBuffer(item1, item2, item3, ..., itemN)\n    var initiatedWithData = arguments.length > 1 || typeof capacity != 'number';\n\n    this.capacity = initiatedWithData ? arguments.length : +capacity;\n    this.data = new Array(this.capacity);\n\n    indexTo(this, this.capacity);\n    if (initiatedWithData) {\n      this.push(...arguments);\n    }\n  }\n\n  push() {\n    // Add elements to the buffer\n    for (var i = 0, len = arguments.length; i < len; i++) {\n      this.tail = (this.tail + 1) % this.capacity;\n      this.data[this.tail] = arguments[i];\n    }\n    this.length = Math.min(this.length + len, this.capacity);\n    computeHead(this);\n    return this.length;\n  }\n\n  unshift() {\n    for (var i = 0, len = arguments.length; i < len; i++) {\n      this.head = mathmod(this.head - 1, this.capacity);\n      // fix argument order (reversed)\n      this.data[this.head] = arguments[len - i - 1];\n    }\n\n    this.length = Math.min(this.length + len, this.capacity);\n    this.tail += Math.max((len + this.length) - this.capacity, 0);\n    return this.length;\n  }\n\n  pop() {\n    if (this.length === 0) {\n      throw new Error('Cannot pop from empty buffer');\n    }\n    // Remove an element from the buffer and return it\n    let result = this.data[this.tail];\n    this.tail = mathmod(this.tail - 1, this.capacity);\n    this.length -= 1;\n    computeHead(this);\n    return result;\n  }\n\n  shift() {\n    if (this.length === 0) {\n      throw new Error('Cannot shift from empty buffer');\n    }\n    // Remove an element from the start of the buffer and return it\n    let result = this.data[this.head];\n    this.head = (this.head + 1) % this.capacity;\n    this.length -= 1;\n    return result;\n  }\n\n  splice() {\n    throw new Error('Not implemented');\n  }\n\n  get isFull() {\n    return this.capacity === this.length;\n  }\n\n  sort(comparitor) {\n    // Must update the data array as it may contain items out of bounds of\n    // head/tail if pops/shifts have occurred\n    this.data = this.slice().sort(comparitor);\n    this.head = 0;\n    this.tail = this.length - 1;\n    return this;\n  }\n\n  empty() {\n    this.head = 0;\n    this.tail = -1;\n    this.length = 0;\n    return this;\n  }\n\n  clone() {\n    var buffer = new RingBuffer(this.capacity);\n    buffer.push(...this.slice());\n    return buffer;\n  }\n}\n\n// Mixin Array prototype methods, we don't extend directly because\n// that comes with it's own bag of issues...\nconst arrayProto = Array.prototype;\nconst ringProto = RingBuffer.prototype;\nObject.getOwnPropertyNames(Array.prototype).forEach(prop => {\n  var method = arrayProto[prop];\n  if (typeof method === 'function' && !ringProto.hasOwnProperty(prop)) {\n    ringProto[prop] = method;\n  }\n});\n\nif (typeof Symbol === 'function' && Symbol.hasOwnProperty('iterator')) {\n  ringProto[Symbol.iterator] = arrayProto[Symbol.iterator];\n}\n\n// Cache of index getters and setters\nconst indexes = {};\nvar indexesLength = 0;\n\nfunction createIndex(index) {\n  indexesLength = index + 1;\n  indexes[index] = {\n    get: function() {\n      return this.data[(index + this.head) % this.capacity];\n    },\n    set: function(item) {\n      if (index == this.length) {\n        this.length += 1;\n      } else if (index > this.length) {\n        throw new Error(`Index ${index} out of bound`);\n      }\n      this.data[(index + this.head) % this.capacity] = item;\n    },\n    enumerable: true\n  };\n}\n\nfunction indexTo(instance, index) {\n  for (var i = indexesLength; i < index; i++) {\n    createIndex(i);\n  }\n  for (i = 0; i < index; i++) {\n    Object.defineProperty(instance, i, indexes[i]);\n  }\n}\n\nfunction computeHead(b) {\n  b.head = mathmod(b.tail - b.length + 1, b.capacity);\n}\n\n// Returns the remainder of a floored division (ensures result is same sign as divisor).\nfunction mathmod(dividend, divisor) {\n  return ((dividend % divisor) + divisor) % divisor;\n}\n\nexport default RingBuffer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/ringbuffer.js\n **/"],"sourceRoot":""}